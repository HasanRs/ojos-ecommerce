{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/tiffanybouchard/Desktop/workspace/ojos/web/pages/products/[handle].js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from \"next/head\";\nimport { ShopContext } from \"../../context/shopContext\"; // Bootstrap\n\nimport { Image, Spinner, Toast, Carousel } from \"react-bootstrap\";\n\nvar ProductDetails = function ProductDetails(props) {\n  _s();\n\n  // const [size, setSize] = React.useState();\n  // const handleChange = (event) => {\n  //   setSize(event.target.value);\n  // };\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      index = _React$useState2[0],\n      setIndex = _React$useState2[1];\n\n  var handleSelect = function handleSelect(selectedIndex, e) {\n    setIndex(selectedIndex);\n  };\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      show = _React$useState4[0],\n      setShow = _React$useState4[1];\n\n  var handle = props.params.handle;\n\n  var _React$useContext = React.useContext(ShopContext),\n      checkout = _React$useContext.checkout,\n      fetchProductByHandle = _React$useContext.fetchProductByHandle,\n      addItemToCheckout = _React$useContext.addItemToCheckout,\n      product = _React$useContext.product; // const checkIfItemInCart = async () => {\n  //   console.log(checkout);\n  // };\n  // console.log(checkout.lineItems);\n  // const currentCheckoutItems = await checkout.lineItems;\n  // currentCheckoutItems.forEach((item) => {\n  //   if (item.id === id) {\n  //     console.log(\"in cart!\");\n  //     // this.setState({ itemInCart: true });\n  //   }\n  // });\n\n\n  React.useEffect(function () {\n    fetchProductByHandle(handle);\n    return function () {};\n  }, [fetchProductByHandle, handle]); // useEffect(() => {\n  //   fetchCheckout(checkout.id);\n  //   // checkIfItemInCart();\n  //   return () => {};\n  // }, [fetchCheckout]);\n\n  if (!product.title) return __jsx(\"div\", {\n    className: \"page-spinner\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, __jsx(Spinner, {\n    animation: \"border\",\n    role: \"status\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, __jsx(\"span\", {\n    className: \"sr-only\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"Loading...\")));\n  return __jsx(\"div\", {\n    id: \"product-details-page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"flex-end\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, __jsx(Toast, {\n    style: {\n      position: \"fixed\"\n    },\n    show: show,\n    delay: 3000,\n    autohide: true,\n    onClose: function onClose() {\n      return setShow(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, __jsx(Toast.Body, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, \"You added \", product.title, \" to your cart!\"))), __jsx(Head, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, \"OJOS | \", product.title), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/favicon.ico\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  })), __jsx(\"div\", {\n    id: \"product-details-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    id: \"product-image\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, __jsx(Carousel, {\n    activeIndex: index,\n    onSelect: handleSelect,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, product.images.map(function (image) {\n    return __jsx(Carousel.Item, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }, __jsx(\"img\", {\n      className: \"d-block w-50\",\n      src: image.src,\n      alt: \"A slide\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }));\n  }))), __jsx(\"div\", {\n    id: \"product-details\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, product.title), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, product.availableForSale ? \"$\" + product.variants[0].price : \"Sold out\"), product.availableForSale ? __jsx(\"button\", {\n    className: \"add-to-cart-btn\",\n    onClick: function onClick() {\n      addItemToCheckout(product.variants[0].id, 1);\n      setShow(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, \"Add to Cart\") : __jsx(\"button\", {\n    disabled: true,\n    className: \"add-to-cart-btn\",\n    onClick: function onClick() {\n      addItemToCheckout(product.variants[0].id, 1);\n      setShow(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, \"Add to Cart\"), __jsx(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, \"Description\"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }, product.description), __jsx(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, \"Sizing\"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, \"Complimentary ground shipping on all domestic orders. Returns accepted within 7 days of delivery on full price items. All sale items and masks are final sale. International shipping available to select countries.\"), __jsx(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, \"Shipping\"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, \"Complimentary ground shipping on all domestic orders. Returns accepted within 7 days of delivery on full price items. All sale items and masks are final sale. International shipping available to select countries.\"))));\n};\n\n_s(ProductDetails, \"zv4kqCqoS5h2UV6bYF6GtA82ce4=\");\n\n_c = ProductDetails;\n\nProductDetails.getInitialProps = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(context) {\n    var params;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return context.query;\n\n          case 2:\n            params = _context.sent;\n            return _context.abrupt(\"return\", {\n              params: params\n            });\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default ProductDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"sources":["/Users/tiffanybouchard/Desktop/workspace/ojos/web/pages/products/[handle].js"],"names":["Head","ShopContext","Image","Spinner","Toast","Carousel","ProductDetails","props","React","useState","index","setIndex","handleSelect","selectedIndex","e","show","setShow","handle","params","useContext","checkout","fetchProductByHandle","addItemToCheckout","product","useEffect","title","display","justifyContent","position","images","map","image","src","availableForSale","variants","price","id","description","getInitialProps","context","query"],"mappings":"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","sourcesContent":["import Head from \"next/head\";\nimport { ShopContext } from \"../../context/shopContext\";\n\n// Bootstrap\nimport { Image, Spinner, Toast, Carousel } from \"react-bootstrap\";\n\nconst ProductDetails = (props) => {\n  // const [size, setSize] = React.useState();\n\n  // const handleChange = (event) => {\n  //   setSize(event.target.value);\n  // };\n  const [index, setIndex] = React.useState(0);\n\n  const handleSelect = (selectedIndex, e) => {\n    setIndex(selectedIndex);\n  };\n\n  const [show, setShow] = React.useState(false);\n\n  let handle = props.params.handle;\n  const {\n    checkout,\n    fetchProductByHandle,\n    addItemToCheckout,\n    product,\n  } = React.useContext(ShopContext);\n\n  // const checkIfItemInCart = async () => {\n  //   console.log(checkout);\n  // };\n  // console.log(checkout.lineItems);\n  // const currentCheckoutItems = await checkout.lineItems;\n  // currentCheckoutItems.forEach((item) => {\n  //   if (item.id === id) {\n  //     console.log(\"in cart!\");\n  //     // this.setState({ itemInCart: true });\n  //   }\n  // });\n\n  React.useEffect(() => {\n    fetchProductByHandle(handle);\n    return () => {};\n  }, [fetchProductByHandle, handle]);\n\n  // useEffect(() => {\n  //   fetchCheckout(checkout.id);\n  //   // checkIfItemInCart();\n  //   return () => {};\n  // }, [fetchCheckout]);\n\n  if (!product.title)\n    return (\n      <div className=\"page-spinner\">\n        <Spinner animation=\"border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </Spinner>\n      </div>\n    );\n  return (\n    <div id=\"product-details-page\">\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n        }}\n      >\n        <Toast\n          style={{\n            position: \"fixed\",\n          }}\n          show={show}\n          delay={3000}\n          autohide\n          onClose={() => setShow(false)}\n        >\n          <Toast.Body>You added {product.title} to your cart!</Toast.Body>\n        </Toast>\n      </div>\n      <Head>\n        <title>OJOS | {product.title}</title>\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n      </Head>\n      <div id=\"product-details-container\">\n        <div id=\"product-image\">\n          <Carousel activeIndex={index} onSelect={handleSelect}>\n            {product.images.map((image) => (\n              <Carousel.Item>\n                <img className=\"d-block w-50\" src={image.src} alt=\"A slide\" />\n              </Carousel.Item>\n            ))}\n          </Carousel>\n        </div>\n        <div id=\"product-details\">\n          <h1>{product.title}</h1>\n          <p>\n            {product.availableForSale\n              ? \"$\" + product.variants[0].price\n              : \"Sold out\"}\n          </p>\n          {/* Leave in in case sizes need to be implemented */}\n          {/* <select id=\"size-select\" onChange={handleChange}>\n            <option key=\"null\">Select Size</option>\n            {sizes &&\n              sizes.map((size) => <option value={size} key={size}></option>)}\n              </select>\n              {size === undefined || size === \"Select Size\" ? (\n                <button disabled className=\"add-to-cart-btn\">\n                Add to Cart\n                </button>\n          ) : (\n          )} */}\n          {product.availableForSale ? (\n            <button\n              className=\"add-to-cart-btn\"\n              onClick={() => {\n                addItemToCheckout(product.variants[0].id, 1);\n                setShow(true);\n              }}\n            >\n              Add to Cart\n            </button>\n          ) : (\n            <button\n              disabled\n              className=\"add-to-cart-btn\"\n              onClick={() => {\n                addItemToCheckout(product.variants[0].id, 1);\n                setShow(true);\n              }}\n            >\n              Add to Cart\n            </button>\n          )}\n          <h4>Description</h4>\n          <p>{product.description}</p>\n          <h4>Sizing</h4>\n          <p>\n            Complimentary ground shipping on all domestic orders. Returns\n            accepted within 7 days of delivery on full price items. All sale\n            items and masks are final sale. International shipping available to\n            select countries.\n          </p>\n          <h4>Shipping</h4>\n          <p>\n            Complimentary ground shipping on all domestic orders. Returns\n            accepted within 7 days of delivery on full price items. All sale\n            items and masks are final sale. International shipping available to\n            select countries.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nProductDetails.getInitialProps = async function (context) {\n  const params = await context.query;\n  return { params: params };\n};\n\nexport default ProductDetails;\n"]},"metadata":{},"sourceType":"module"}